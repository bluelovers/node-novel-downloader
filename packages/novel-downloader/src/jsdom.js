"use strict";
/**
 * Created by user on 2018/3/18/018.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const jsdom_extra_1 = require("jsdom-extra");
exports.VirtualConsole = jsdom_extra_1.VirtualConsole;
const jsdom_extra_2 = require("jsdom-extra");
exports.LazyCookie = jsdom_extra_2.LazyCookie;
exports.LazyCookieJar = jsdom_extra_2.LazyCookieJar;
const jsdom_extra_3 = require("jsdom-extra");
const from_url_1 = require("jsdom-extra/lib/from-url");
exports.defaultJSDOMOptions = {
    //virtualConsole: new VirtualConsole,
    //runScripts: 'dangerously',
    disableCheerio: true,
    minifyHTML: true,
};
function createOptionsJSDOM(options = {}, ...opts) {
    options = Object.assign({}, exports.defaultJSDOMOptions, options, ...opts);
    options.cookieJar = options.cookieJar || new jsdom_extra_2.LazyCookieJar();
    return options;
}
exports.createOptionsJSDOM = createOptionsJSDOM;
function getOptions(options) {
    let opts = jsdom_extra_3.packOptions(options);
    let fromURLOptions = from_url_1.normalizeFromURLOptions(opts);
    let requestOptions = from_url_1.normalizeRequestOptions(fromURLOptions);
    return {
        options: opts,
        fromURLOptions,
        requestOptions,
    };
}
exports.getOptions = getOptions;
const self = require("./jsdom");
exports.default = self;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNkb20uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJqc2RvbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBRUgsNkNBQXVHO0FBRzdFLHlCQUhRLDRCQUFjLENBR1I7QUFFeEMsNkNBQXdEO0FBQy9DLHFCQURBLHdCQUFVLENBQ0E7QUFBRSx3QkFEQSwyQkFBYSxDQUNBO0FBRWxDLDZDQUF5RjtBQUN6Rix1REFBNkc7QUFJaEcsUUFBQSxtQkFBbUIsR0FBb0I7SUFDbkQscUNBQXFDO0lBQ3JDLDRCQUE0QjtJQUM1QixjQUFjLEVBQUUsSUFBSTtJQUNwQixVQUFVLEVBQUUsSUFBSTtDQUNoQixDQUFDO0FBRUYsU0FBZ0Isa0JBQWtCLENBQXlCLFVBQTJDLEVBQUUsRUFBRSxHQUFHLElBQTBCO0lBRXRJLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSwyQkFBbUIsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUNuRSxPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSwyQkFBYSxFQUFFLENBQUM7SUFFN0QsT0FBTyxPQUFPLENBQUM7QUFDaEIsQ0FBQztBQU5ELGdEQU1DO0FBRUQsU0FBZ0IsVUFBVSxDQUFDLE9BQU87SUFFakMsSUFBSSxJQUFJLEdBQUcseUJBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUVqQyxJQUFJLGNBQWMsR0FBRyxrQ0FBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRCxJQUFJLGNBQWMsR0FBRyxrQ0FBdUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUU3RCxPQUFPO1FBQ04sT0FBTyxFQUFFLElBQUk7UUFDYixjQUFjO1FBQ2QsY0FBYztLQUNkLENBQUE7QUFDRixDQUFDO0FBWkQsZ0NBWUM7QUFFRCxnQ0FBZ0M7QUFDaEMsa0JBQWUsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAxOC8zLzE4LzAxOC5cbiAqL1xuXG5pbXBvcnQgX2pzZG9tLCB7IElGcm9tVXJsT3B0aW9ucywgVmlydHVhbENvbnNvbGUsIElPcHRpb25zSlNET00sIElGcm9tRmlsZU9wdGlvbnMgfSBmcm9tICdqc2RvbS1leHRyYSc7XG5cbmltcG9ydCBOb3ZlbFNpdGUgZnJvbSAnLi9zaXRlL2luZGV4JztcbmV4cG9ydCB7IElGcm9tVXJsT3B0aW9ucywgVmlydHVhbENvbnNvbGUsIElPcHRpb25zSlNET00sIElGcm9tRmlsZU9wdGlvbnMgfVxuXG5pbXBvcnQgeyBMYXp5Q29va2llLCBMYXp5Q29va2llSmFyIH0gZnJvbSAnanNkb20tZXh0cmEnO1xuZXhwb3J0IHsgTGF6eUNvb2tpZSwgTGF6eUNvb2tpZUphciB9XG5cbmltcG9ydCB7IHBhY2tPcHRpb25zIGFzIF9wYWNrT3B0aW9ucywgSU9wdGlvbnMsIElPcHRpb25zQ3JlYXRlUXVlcnkgfSBmcm9tICdqc2RvbS1leHRyYSc7XG5pbXBvcnQgeyBub3JtYWxpemVGcm9tVVJMT3B0aW9ucywgbm9ybWFsaXplUmVxdWVzdE9wdGlvbnMsIElSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2pzZG9tLWV4dHJhL2xpYi9mcm9tLXVybCc7XG5cbmV4cG9ydCB0eXBlIElOb3ZlbE9wdGlvbnNKU0RPTSA9IElGcm9tVXJsT3B0aW9ucyAmIElPcHRpb25zSlNET007XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0SlNET01PcHRpb25zOiBJRnJvbVVybE9wdGlvbnMgPSB7XG5cdC8vdmlydHVhbENvbnNvbGU6IG5ldyBWaXJ0dWFsQ29uc29sZSxcblx0Ly9ydW5TY3JpcHRzOiAnZGFuZ2Vyb3VzbHknLFxuXHRkaXNhYmxlQ2hlZXJpbzogdHJ1ZSxcblx0bWluaWZ5SFRNTDogdHJ1ZSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcHRpb25zSlNET008VCA9IElOb3ZlbE9wdGlvbnNKU0RPTT4ob3B0aW9uczogUGFydGlhbDxUICYgSU5vdmVsT3B0aW9uc0pTRE9NPiA9IHt9LCAuLi5vcHRzOiBJTm92ZWxPcHRpb25zSlNET01bXSk6IFBhcnRpYWw8VCAmIElOb3ZlbE9wdGlvbnNKU0RPTT5cbntcblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRKU0RPTU9wdGlvbnMsIG9wdGlvbnMsIC4uLm9wdHMpO1xuXHRvcHRpb25zLmNvb2tpZUphciA9IG9wdGlvbnMuY29va2llSmFyIHx8IG5ldyBMYXp5Q29va2llSmFyKCk7XG5cblx0cmV0dXJuIG9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpXG57XG5cdGxldCBvcHRzID0gX3BhY2tPcHRpb25zKG9wdGlvbnMpO1xuXG5cdGxldCBmcm9tVVJMT3B0aW9ucyA9IG5vcm1hbGl6ZUZyb21VUkxPcHRpb25zKG9wdHMpO1xuXHRsZXQgcmVxdWVzdE9wdGlvbnMgPSBub3JtYWxpemVSZXF1ZXN0T3B0aW9ucyhmcm9tVVJMT3B0aW9ucyk7XG5cblx0cmV0dXJuIHtcblx0XHRvcHRpb25zOiBvcHRzLFxuXHRcdGZyb21VUkxPcHRpb25zLFxuXHRcdHJlcXVlc3RPcHRpb25zLFxuXHR9XG59XG5cbmltcG9ydCAqIGFzIHNlbGYgZnJvbSAnLi9qc2RvbSc7XG5leHBvcnQgZGVmYXVsdCBzZWxmO1xuIl19