"use strict";
/**
 * Created by user on 2018/4/2/002.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const js_tree_list2_1 = require("js-tree-list2");
const util_1 = require("../util");
class NovelTree {
    constructor(initData = {}) {
        this.cache = {
            depth: 0,
        };
        initData.type = 'root';
        initData.level = 0;
        this.tree = new js_tree_list2_1.Tree(initData);
    }
    root() {
        return this.tree.root();
    }
    addVolume(value, root) {
        value.type = 'volume';
        let node;
        if (root) {
            node = this._getRoot(root).add(value);
        }
        else {
            node = this.tree.root().add(value);
        }
        this._fixRow(node);
        this.cache.lastVolume = node;
        return node;
    }
    addChapter(value, root) {
        value.type = 'chapter';
        let node;
        if (root) {
            node = this._getRoot(root).add(value);
        }
        else {
            node = this.tree.root().add(value);
        }
        this._fixRow(node);
        this.cache.lastChapter = node;
        return node;
    }
    static isVolume(node) {
        if (node instanceof js_tree_list2_1.Node) {
            return (node.get('type') == 'volume') ? node : null;
        }
        return (node.type == 'volume') ? node : null;
    }
    static isChapter(node) {
        if (node instanceof js_tree_list2_1.Node) {
            return (node.get('type') == 'chapter') ? node : null;
        }
        return (node.type == 'chapter') ? node : null;
    }
    _fixRow(node) {
        let level = node.parent.get('level') + 1;
        this.cache.depth = Math.max(this.cache.depth, level);
        node.set('level', level);
        let name;
        switch (node.get('type')) {
            case 'chapter':
                name = util_1.trim(node.get('chapter_title'), true);
                node.set('chapter_title', name);
                node.set('name', name);
                break;
            case 'volume':
                name = util_1.trim(node.get('volume_title'), true);
                node.set('volume_title', name);
                node.set('name', name);
                break;
        }
        return node;
    }
    _getRoot(root) {
        if (!(root instanceof js_tree_list2_1.Node)) {
            throw new TypeError();
        }
        if (root.get('type') == 'chapter') {
            throw new Error();
        }
        return root;
    }
    toJSON() {
        return this.tree.root().toJSON();
    }
    static treeToList(novelTree, linkNode) {
        let list = js_tree_list2_1.TreeToList(novelTree.tree, linkNode);
        return list;
    }
}
exports.NovelTree = NovelTree;
exports.default = NovelTree;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBRUgsaURBQWdGO0FBR2hGLGtDQUFvRDtBQWtEcEQsTUFBYSxTQUFTO0lBWXJCLFlBQVksV0FBOEIsRUFBRTtRQVI1QyxVQUFLLEdBSUQ7WUFDSCxLQUFLLEVBQUUsQ0FBQztTQUNSLENBQUM7UUFJRCxRQUFRLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztRQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUVuQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksb0JBQUksQ0FBQyxRQUFvQixDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQUk7UUFFSCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFNBQVMsQ0FBdUIsS0FBUSxFQUFFLElBQVc7UUFFcEQsS0FBSyxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7UUFFdEIsSUFBSSxJQUFhLENBQUM7UUFFbEIsSUFBSSxJQUFJLEVBQ1I7WUFDQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEM7YUFFRDtZQUNDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQztRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBRTdCLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVELFVBQVUsQ0FBd0IsS0FBUSxFQUFFLElBQVc7UUFFdEQsS0FBSyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7UUFFdkIsSUFBSSxJQUFhLENB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S0FBSyxFQUFFLENBQUE7U0FDakI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxNQUFNO1FBRUwsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLFNBQW9CLEVBQUUsUUFBa0I7UUFFekQsSUFBSSxJQUFJLEdBQUcsMEJBQVUsQ0FBMEMsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN6RixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7Q0FDRDtBQW5KRCw4QkFtSkM7QUFFRCxrQkFBZSxTQUFTLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdXNlciBvbiAyMDE4LzQvMi8wMDIuXG4gKi9cblxuaW1wb3J0IHsgVHJlZSwgTGlzdFRvVHJlZSwgTm9kZSwgVHJlZVRvTGlzdCwgSVRyZWVUb0xpc3QgfSBmcm9tICdqcy10cmVlLWxpc3QyJztcbmltcG9ydCB7IFVSTCB9IGZyb20gJ2pzZG9tLXVybCc7XG5pbXBvcnQgeyBJQ2hhcHRlciwgSVZvbHVtZSB9IGZyb20gJy4uL3NpdGUvaW5kZXgnO1xuaW1wb3J0IHsgaXNVbmRlZiwgbWluaWZ5SFRNTCwgdHJpbSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0ICogYXMgc2hvcnRpZCBmcm9tICdzaG9ydGlkJztcblxuZXhwb3J0IHR5cGUgSVRyZWVJRCA9IHN0cmluZyB8IG51bWJlcjtcblxuZXhwb3J0IHsgSVRyZWVUb0xpc3QgfVxuXG5leHBvcnQgdHlwZSBUcmVlTm9kZTxUID0gSVJvd1Jvb3QgfCBJUm93Vm9sdW1lIHwgSVJvd0NoYXB0ZXI+ID0gTm9kZTxUPjtcblxuZXhwb3J0IGludGVyZmFjZSBJVHJlZVxue1xuXHRsZXZlbD86IG51bWJlcixcblx0dHlwZT86IHN0cmluZyxcblxuXHR0b3RhbF9pZHg/OiBudW1iZXIsXG5cdGlkeD86IG51bWJlcixcblxuXHRuYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBJUm93Vm9sdW1lPFQgPSB7fT4gPSBUICYgSVZvbHVtZSAmIElUcmVlICYge1xuXHR0eXBlPzogJ3ZvbHVtZScsXG5cblx0dm9sdW1lX2luZGV4Pzogc3RyaW5nIHwgbnVtYmVyLFxuXHR2b2x1bWVfdGl0bGU6IHN0cmluZyxcblxuXHRkaXJuYW1lPzogc3RyaW5nO1xuXHR2b2x1bWVfbGV2ZWw/OiBzdHJpbmcgfCBudW1iZXIsXG59O1xuXG5leHBvcnQgdHlwZSBJUm93Q2hhcHRlcjxUID0ge30+ID0gVCAmIElDaGFwdGVyICYgSVRyZWUgJiB7XG5cdHR5cGU/OiAnY2hhcHRlcicsXG5cblx0Y2hhcHRlcl9pbmRleD86IHN0cmluZyB8IG51bWJlcixcblx0Y2hhcHRlcl90aXRsZTogc3RyaW5nLFxuXG5cdGNoYXB0ZXJfaWQ/OiBzdHJpbmcgfCBudW1iZXIsXG5cdGNoYXB0ZXJfdXJsPzogVVJMLFxuXHRjaGFwdGVyX3VybF9kYXRhPyxcblx0Y2hhcHRlcl9kYXRlPyxcblxuXHRwYXRoPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgSVJvd1Jvb3Q8VCA9IHt9PiA9IElUcmVlICYge1xuXHR0eXBlPzogJ3Jvb3QnLFxufSAmIFQ7XG5cbmV4cG9ydCB0eXBlIElSb3dOb3ZlbCA9IElSb3dWb2x1bWUgfCBJUm93Q2hhcHRlcjtcblxuZXhwb3J0IGNsYXNzIE5vdmVsVHJlZVxue1xuXHR0cmVlOiBUcmVlPElSb3dSb290IHwgSVJvd1ZvbHVtZSB8IElSb3dDaGFwdGVyPjtcblxuXHRjYWNoZToge1xuXHRcdGxhc3RWb2x1bWU/OiBOb2RlPElSb3dWb2x1bWU+LFxuXHRcdGxhc3RDaGFwdGVyPzogTm9kZTxJUm93Q2hhcHRlcj4sXG5cdFx0ZGVwdGg/OiBudW1iZXIsXG5cdH0gPSB7XG5cdFx0ZGVwdGg6IDAsXG5cdH07XG5cblx0Y29uc3RydWN0b3IoaW5pdERhdGE6IFBhcnRpYWw8SVJvd1Jvb3Q+ID0ge30pXG5cdHtcblx0XHRpbml0RGF0YS50eXBlID0gJ3Jvb3QnO1xuXHRcdGluaXREYXRhLmxldmVsID0gMDtcblxuXHRcdHRoaXMudHJlZSA9IG5ldyBUcmVlKGluaXREYXRhIGFzIElSb3dSb290KTtcblx0fVxuXG5cdHJvb3QoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMudHJlZS5yb290KCk7XG5cdH1cblxuXHRhZGRWb2x1bWU8VSBleHRlbmRzIElSb3dWb2x1bWU+KHZhbHVlOiBVLCByb290PzogTm9kZSlcblx0e1xuXHRcdHZhbHVlLnR5cGUgPSAndm9sdW1lJztcblxuXHRcdGxldCBub2RlOiBOb2RlPFU+O1xuXG5cdFx0aWYgKHJvb3QpXG5cdFx0e1xuXHRcdFx0bm9kZSA9IHRoaXMuX2dldFJvb3Qocm9vdCkuYWRkKHZhbHVlKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdG5vZGUgPSB0aGlzLnRyZWUucm9vdCgpLmFkZCh2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZml4Um93KG5vZGUpO1xuXG5cdFx0dGhpcy5jYWNoZS5sYXN0Vm9sdW1lID0gbm9kZTtcblxuXHRcdHJldHVybiBub2RlO1xuXHR9XG5cblx0YWRkQ2hhcHRlcjxVIGV4dGVuZHMgSVJvd0NoYXB0ZXI+KHZhbHVlOiBVLCByb290PzogTm9kZSlcblx0e1xuXHRcdHZhbHVlLnR5cGUgPSAnY2hhcHRlcic7XG5cblx0XHRsZXQgbm9kZTogTm9kZTxVPjtcblxuXHRcdGlmIChyb290KVxuXHRcdHtcblx0XHRcdG5vZGUgPSB0aGlzLl9nZXRSb290KHJvb3QpLmFkZCh2YWx1ZSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRub2RlID0gdGhpcy50cmVlLnJvb3QoKS5hZGQodmFsdWUpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2ZpeFJvdyhub2RlKTtcblxuXHRcdHRoaXMuY2FjaGUubGFzdENoYXB0ZXIgPSBub2RlO1xuXG5cdFx0cmV0dXJuIG5vZGU7XG5cdH1cblxuXG5cdHN0YXRpYyBpc1ZvbHVtZShub2RlOiBOb2RlKTogbm9kZSBpcyBOb2RlPElSb3dWb2x1bWU+XG5cdHN0YXRpYyBpc1ZvbHVtZShub2RlOiBJUm93Vm9sdW1lKTogbm9kZSBpcyBJUm93Vm9sdW1lXG5cdHN0YXRpYyBpc1ZvbHVtZShub2RlKVxuXHR7XG5cdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlKVxuXHRcdHtcblx0XHRcdHJldHVybiAobm9kZS5nZXQoJ3R5cGUnKSA9PSAndm9sdW1lJykgPyBub2RlIDogbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gKG5vZGUudHlwZSA9PSAndm9sdW1lJykgPyBub2RlIDogbnVsbDtcblx0fVxuXG5cdHN0YXRpYyBpc0NoYXB0ZXIobm9kZTogTm9kZSk6IG5vZGUgaXMgTm9kZTxJUm93Q2hhcHRlcj5cblx0c3RhdGljIGlzQ2hhcHRlcihub2RlOiBJUm93Q2hhcHRlcik6IG5vZGUgaXMgSVJvd0NoYXB0ZXJcblx0c3RhdGljIGlzQ2hhcHRlcihub2RlKVxuXHR7XG5cdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlKVxuXHRcdHtcblx0XHRcdHJldHVybiAobm9kZS5nZXQoJ3R5cGUnKSA9PSAnY2hhcHRlcicpID8gbm9kZSA6IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChub2RlLnR5cGUgPT0gJ2NoYXB0ZXInKSA/IG5vZGUgOiBudWxsO1xuXHR9XG5cblx0cHJvdGVjdGVkIF9maXhSb3c8VSBleHRlbmRzIE5vZGU8SVJvd1ZvbHVtZSB8IElSb3dDaGFwdGVyPj4obm9kZTogVSlcblx0e1xuXHRcdGxldCBsZXZlbCA9IG5vZGUucGFyZW50LmdldDxudW1iZXI+KCdsZXZlbCcpICsgMTtcblxuXHRcdHRoaXMuY2FjaGUuZGVwdGggPSBNYXRoLm1heCh0aGlzLmNhY2hlLmRlcHRoLCBsZXZlbCk7XG5cblx0XHRub2RlLnNldCgnbGV2ZWwnLCBsZXZlbCk7XG5cdFx0bGV0IG5hbWU6IHN0cmluZztcblxuXHRcdHN3aXRjaCAobm9kZS5nZXQoJ3R5cGUnKSlcblx0XHR7XG5cdFx0XHRjYXNlICdjaGFwdGVyJzpcblx0XHRcdFx0bmFtZSA9IHRyaW0obm9kZS5nZXQ8c3RyaW5nPignY2hhcHRlcl90aXRsZScpLCB0cnVlKTtcblxuXHRcdFx0XHRub2RlLnNldCgnY2hhcHRlcl90aXRsZScsIG5hbWUpO1xuXHRcdFx0XHRub2RlLnNldCgnbmFtZScsIG5hbWUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3ZvbHVtZSc6XG5cdFx0XHRcdG5hbWUgPSB0cmltKG5vZGUuZ2V0PHN0cmluZz4oJ3ZvbHVtZV90aXRsZScpLCB0cnVlKTtcblxuXHRcdFx0XHRub2RlLnNldCgndm9sdW1lX3RpdGxlJywgbmFtZSk7XG5cdFx0XHRcdG5vZGUuc2V0KCduYW1lJywgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHJldHVybiBub2RlO1xuXHR9XG5cblx0cHJvdGVjdGVkIF9nZXRSb290PFUgZXh0ZW5kcyBOb2RlPElSb3dSb290IHwgSVJvd1ZvbHVtZSB8IElSb3dDaGFwdGVyPj4ocm9vdDogVSlcblx0e1xuXHRcdGlmICghKHJvb3QgaW5zdGFuY2VvZiBOb2RlKSlcblx0XHR7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKClcblx0XHR9XG5cblx0XHRpZiAocm9vdC5nZXQoJ3R5cGUnKSA9PSAnY2hhcHRlcicpXG5cdFx0e1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKClcblx0XHR9XG5cblx0XHRyZXR1cm4gcm9vdDtcblx0fVxuXG5cdHRvSlNPTigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy50cmVlLnJvb3QoKS50b0pTT04oKTtcblx0fVxuXG5cdHN0YXRpYyB0cmVlVG9MaXN0KG5vdmVsVHJlZTogTm92ZWxUcmVlLCBsaW5rTm9kZT86IGJvb2xlYW4pXG5cdHtcblx0XHRsZXQgbGlzdCA9IFRyZWVUb0xpc3Q8e30sIElSb3dSb290IHwgSVJvd1ZvbHVtZSB8IElSb3dDaGFwdGVyPihub3ZlbFRyZWUudHJlZSwgbGlua05vZGUpO1xuXHRcdHJldHVybiBsaXN0O1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vdmVsVHJlZTtcbiJdfQ==