"use strict";
/**
 * Created by user on 2018/10/6/006.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const lazy_1 = require("novel-downloader/src/lazy");
const novel_downloader_1 = require("novel-downloader");
function createSite(siteID, options) {
    let o = novel_downloader_1.default(siteID);
    // @ts-ignore
    return new o(options);
}
exports.createSite = createSite;
function download(url, downloadOptions, siteID, options) {
    if (!siteID) {
        siteID = lazy_1.searchSiteID(url) || novel_downloader_1.EnumNovelSiteList.NovelSiteSyosetu;
    }
    const Site = createSite(siteID, options || {});
    return Site.download(url, downloadOptions);
}
exports.download = download;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBRUgsb0RBQXlEO0FBR3pELHVEQUFzRjtBQUV0RixTQUFnQixVQUFVLENBQW9ELE1BQTBCLEVBQ3ZHLE9BRUM7SUFHRCxJQUFJLENBQUMsR0FBRywwQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUV0QyxhQUFhO0lBQ2IsT0FBTyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBVkQsZ0NBVUM7QUFFRCxTQUFnQixRQUFRLENBQXNFLEdBQVcsRUFDeEcsZUFFQyxFQUNELE1BQTBCLEVBQzFCLE9BRUM7SUFHRCxJQUFJLENBQUMsTUFBTSxFQUNYO1FBQ0MsTUFBTSxHQUFHLG1CQUFZLENBQUMsR0FBRyxDQUFDLElBQUksb0NBQWlCLENBQUMsZ0JBQWdCLENBQUM7S0FDakU7SUFFRCxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztJQUUvQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLGVBQWUsQ0FBQyxDQUFBO0FBQzNDLENBQUM7QUFsQkQsNEJBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAxOC8xMC82LzAwNi5cbiAqL1xuXG5pbXBvcnQgeyBzZWFyY2hTaXRlSUQgfSBmcm9tICdub3ZlbC1kb3dubG9hZGVyL3NyYy9sYXp5JztcbmltcG9ydCB7IGNvbnNvbGUgfSBmcm9tICcuL2xpYi9sb2cnO1xuaW1wb3J0IEJsdWViaXJkID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xuaW1wb3J0IHJlcXVpcmVOb3ZlbFNpdGVDbGFzcywgeyBFbnVtTm92ZWxTaXRlTGlzdCwgTm92ZWxTaXRlIH0gZnJvbSBcIm5vdmVsLWRvd25sb2FkZXJcIlxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2l0ZTxUIGV4dGVuZHMgTm92ZWxTaXRlLCBPIGV4dGVuZHMgTm92ZWxTaXRlLklPcHRpb25zPihzaXRlSUQ/OiBFbnVtTm92ZWxTaXRlTGlzdCxcblx0b3B0aW9ucz86IE8gJiB7XG5cdFx0W2s6IHN0cmluZ106IGFueVxuXHR9LFxuKTogVFxue1xuXHRsZXQgbyA9IHJlcXVpcmVOb3ZlbFNpdGVDbGFzcyhzaXRlSUQpO1xuXG5cdC8vIEB0cy1pZ25vcmVcblx0cmV0dXJuIG5ldyBvKG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWQ8TyBleHRlbmRzIE5vdmVsU2l0ZS5JRG93bmxvYWRPcHRpb25zLCBPMiBleHRlbmRzIE5vdmVsU2l0ZS5JT3B0aW9ucz4odXJsOiBzdHJpbmcsXG5cdGRvd25sb2FkT3B0aW9ucz86IE8gJiB7XG5cdFx0W2s6IHN0cmluZ106IGFueVxuXHR9LFxuXHRzaXRlSUQ/OiBFbnVtTm92ZWxTaXRlTGlzdCxcblx0b3B0aW9ucz86IE8yICYge1xuXHRcdFtrOiBzdHJpbmddOiBhbnlcblx0fSxcbilcbntcblx0aWYgKCFzaXRlSUQpXG5cdHtcblx0XHRzaXRlSUQgPSBzZWFyY2hTaXRlSUQodXJsKSB8fCBFbnVtTm92ZWxTaXRlTGlzdC5Ob3ZlbFNpdGVTeW9zZXR1O1xuXHR9XG5cblx0Y29uc3QgU2l0ZSA9IGNyZWF0ZVNpdGUoc2l0ZUlELCBvcHRpb25zIHx8IHt9KTtcblxuXHRyZXR1cm4gU2l0ZS5kb3dubG9hZCh1cmwsIGRvd25sb2FkT3B0aW9ucylcbn1cbiJdfQ==